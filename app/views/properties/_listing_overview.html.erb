
<div class="loader"><div class="spinner"></div></div>

<div class="orbit" role="region" aria-label="listings pictures" data-orbit>
    <button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
    <button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
    <ul class="orbit-container">
     <% p.photos.map do |x|%>
      <li class="listing-img orbit-slide is-active" data-bg=<%= x.picture if p.has_photos? %>>
    
        <% if p.is_new? %>
        <div class="listing-badge">
          <span>Just Listed</span>
        </div>

        <% elsif p.list_price_cents > 0%>
        <div class="listing-badge">
          <span>For Sale</span>
        </div>

        <% end %>
        <div class="listing-price">
          <sup>$</sup>
          <span style=""><%= p.price %></span>
        </div>
      <% end %>
      </li>
    </ul>
</div>


<div class="listing-meta clearfix">
  <!-- floater for large -->
  <div class="float-left  show-for-large">
    <span><%= p.address.address_first %></span>
    <span style="font-size: 0.75rem; display: block; font-weight: 300;" class="dark-grey"><%= p.city_province %></span>
  </div>
  <div class="float-right text-right show-for-large" style="font-weight: 200; font-size:15px; font-family: sans-serif; padding: 0 8px; width: 10.5em;">

    <!-- For medium and large only -->
    <div class="row show-for-large">
      <span class="column small-4 medium-4" style="padding-top: 4.5px;">
        <%= image_tag('bed.svg', class: 'mapsect-icons')%>        
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('bath.svg', class: 'mapsect-icons')%>  
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('ruler.svg', class: 'mapsect-icons')%>
      </span>
    </div>

    <div class="row show-for-large" style="text-align: center;">
      <span class="column small-4 medium-4" >
        <%= p.bedrooms %>  <br>  
      </span>
      <span class="column small-4 medium-4">
        <%= p.bathrooms %> <br>  
      </span>
      <span class="column small-4 medium-4" style="padding: 0;">
        <%= p.floor_area %> ft<sup>&#50;</sup> <br> 
      </span>
    </div>

    <!-- <span style="font-size: 0.75rem; display: block;" class="dark-grey">Active</span> -->
  </div>
  <!-- floater for medium -->
  <div class="row expanded float-left-bigger-screen show-for-medium-only">
    <span><%= p.address.address_first %></span>
    <span style="font-size: 0.75rem; display: block; font-weight: 300;" class="dark-grey"><%= p.city_province %></span>
  </div>
  <div class="row expanded float-right-bigger-screen show-for-medium-only" style="font-weight: 200; font-size:15px; font-family: sans-serif; padding: 0 8px; width: 178px;">

    <!-- For medium and large only -->
    <div class="row show-for-medium-only" style="margin-top: 12px;">
      <span class="column small-4 medium-4" style="padding-top: 4.5px;">
        <%= image_tag('bed.svg', class: 'mapsect-icons')%>        
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('bath.svg', class: 'mapsect-icons')%>  
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('ruler.svg', class: 'mapsect-icons')%>
      </span>
    </div>

    <div class="row show-for-medium-only" style="text-align: center;">
      <span class="column small-4 medium-4" >
        <%= p.bedrooms %>  <br>  
      </span>
      <span class="column small-4 medium-4">
        <%= p.bathrooms %> <br>  
      </span>
      <span class="column small-4 medium-4" style="padding: 0;">
        <%= p.lot_area %> ft<sup>&#50;</sup> <br> 
      </span>
    </div>

    <!-- <span style="font-size: 0.75rem; display: block;" class="dark-grey">Active</span> -->
  </div>

  <!-- non floater for small screens  -->
  <div class="row expanded float-left-small-screen show-for-small-only">
    <span><%= p.address.address_first %></span>
    <span style="font-size: 0.75rem; display: block; font-weight: 300;" class="dark-grey"><%= p.city_province %></span>
  </div>

  <div class="row expanded float-right-small-screen show-for-small-only" style="font-weight: 200; font-size:15px; font-family: sans-serif; padding: 0 8px;">
    <!-- For small only -->
     <div class="row listing-mobile show-for-small-only" style="width: 12em;
">
      <span class="column small-4 medium-4" style="padding-top: 4.5px;">
        <%= image_tag('bed.svg', class: 'mapsect-icons')%>        
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('bath.svg', class: 'mapsect-icons')%>  
      </span>
      <span class="column small-4 medium-4">
        <%= image_tag('ruler.svg', class: 'mapsect-icons')%>
      </span>
    </div>

    <div class="row listing-mobile show-for-small-only" style="text-align: center;width: 189px;">
      <span class="column small-4 medium-4" >
        <%= p.bedrooms %>  <br>  
      </span>
      <span class="column small-4 medium-4">
        <%= p.bathrooms %> <br>  
      </span>
      <span class="column small-4 medium-4" style="padding: 0;">
        <%= p.lot_area %> ft<sup>&#50;</sup> <br> 
      </span>
    </div>

    <!-- <span style="font-size: 0.75rem; display: block;" class="dark-grey">Active</span> -->
  </div>
  <hr style="margin-bottom: 22px;">
  
  <a href="#" target="_blank" id="details-btn" data-idd=<%= p.id%> style="
    background-color: white;
    color: #68c0ea;
    font-size: 17.5px;
    padding: 5.5px 57.5px;
    padding: 10.5px 38.5px;
    border: 3px solid #68c0ea;
    border-radius: 0;
    position: relative;
    top: 50%;
    left: 50%;
    margin-top: -50px;
    margin-left: -100px;

">
  See More Details
  </a>
  
</div>

<div class="listing-description">
  <span style="font-size: .91em;"><%= p.description %></span>
</div>


<!-- <script src="https://cdn.jsdelivr.net/foundation/6.2.1/foundation.min.js"></script> -->

<script>
  $(document).foundation();
  propertyDetail();
</script>

